<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workers App Library - Meauxbility</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #000000;
            --bg-secondary: #1C1C1E;
            --card: #2C2C2E;
            --card-hover: #3A3A3C;
            --text: #FFFFFF;
            --text-secondary: #8E8E93;
            --accent: #007AFF;
            --accent-hover: #0051D5;
            --success: #34C759;
            --warning: #FF9500;
            --border: rgba(255, 255, 255, 0.1);
            --shadow: rgba(0, 0, 0, 0.5);
            --blur: blur(20px);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Inter', 'Segoe UI', sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            padding: 0;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        /* iOS-style Header */
        header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: var(--blur);
            -webkit-backdrop-filter: var(--blur);
            border-bottom: 1px solid var(--border);
            padding: 16px 20px;
            margin: -20px -20px 32px -20px;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 16px;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        h1 {
            font-size: 28px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .stats-row {
            display: flex;
            gap: 24px;
            flex-wrap: wrap;
        }

        .stat {
            display: flex;
            flex-direction: column;
        }

        .stat-value {
            font-size: 20px;
            font-weight: 600;
            color: var(--accent);
        }

        .stat-label {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 2px;
        }

        .controls {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .search-box {
            position: relative;
            width: 300px;
        }

        .search-box input {
            width: 100%;
            padding: 10px 16px 10px 40px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text);
            font-size: 15px;
            transition: all 0.2s;
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--accent);
            background: var(--card);
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            width: 18px;
            height: 18px;
        }

        .filter-buttons {
            display: flex;
            gap: 8px;
        }

        .filter-btn {
            padding: 8px 16px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .filter-btn:hover {
            background: var(--card);
        }

        .filter-btn.active {
            background: var(--accent);
            border-color: var(--accent);
            color: white;
        }

        /* iOS App Library Grid */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 48px;
        }

        .worker-card {
            background: var(--card);
            border-radius: 20px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            border: 1px solid var(--border);
        }

        .worker-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px var(--shadow);
            border-color: rgba(0, 122, 255, 0.3);
        }

        /* Screenshot Thumbnail */
        .worker-thumbnail {
            width: 100%;
            aspect-ratio: 16 / 10;
            background: linear-gradient(135deg, #1C1C1E 0%, #2C2C2E 100%);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .worker-thumbnail iframe {
            width: 200%;
            height: 200%;
            border: none;
            transform: scale(0.5);
            transform-origin: top left;
            pointer-events: none;
            transition: transform 0.3s ease, opacity 0.5s ease;
            z-index: 2;
        }

        .worker-card:hover .worker-thumbnail iframe {
            transform: scale(0.52);
        }

        .worker-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .worker-card:hover .worker-thumbnail img {
            transform: scale(1.05);
        }

        .thumbnail-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--accent) 0%, #8B5CF6 100%);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .thumbnail-placeholder::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .thumbnail-icon {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 8px;
            position: relative;
            z-index: 1;
        }

        .thumbnail-label {
            font-size: 12px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .thumbnail-loading {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 24px;
            height: 24px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Card Content */
        .worker-info {
            padding: 16px;
        }

        .worker-header {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 12px;
        }

        .worker-icon-small {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--accent), #8B5CF6);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: 700;
            color: white;
            flex-shrink: 0;
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
        }

        .worker-title-section {
            flex: 1;
            min-width: 0;
        }

        .worker-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--text);
            word-break: break-word;
            line-height: 1.3;
        }

        .worker-meta-row {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
        }

        .worker-date {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .worker-badge {
            display: inline-flex;
            align-items: center;
            padding: 3px 8px;
            border-radius: 6px;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .worker-badge.production {
            background: rgba(52, 199, 89, 0.2);
            color: var(--success);
        }

        .worker-badge.dev {
            background: rgba(255, 149, 0, 0.2);
            color: var(--warning);
        }

        .worker-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 12px;
            border-top: 1px solid var(--border);
            margin-top: 12px;
        }

        .worker-method {
            font-size: 11px;
            color: var(--text-secondary);
            text-transform: capitalize;
        }

        .worker-status {
            font-size: 11px;
            color: var(--text-secondary);
        }

        /* Empty State */
        .empty-state {
            grid-column: 1 / -1;
            text-align: center;
            padding: 80px 20px;
            color: var(--text-secondary);
        }

        .empty-state-icon {
            font-size: 64px;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        /* Modal - iOS Style */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--card);
            border-radius: 24px;
            padding: 0;
            max-width: 700px;
            width: 100%;
            max-height: 90vh;
            overflow: hidden;
            border: 1px solid var(--border);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
            animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 24px;
            border-bottom: 1px solid var(--border);
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
            letter-spacing: -0.3px;
        }

        .close-btn {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            background: var(--bg-secondary);
            border: none;
            color: var(--text);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            transition: all 0.2s;
        }

        .close-btn:hover {
            background: var(--card-hover);
        }

        .modal-body {
            padding: 24px;
            overflow-y: auto;
            max-height: calc(90vh - 120px);
        }

        .modal-screenshot {
            width: 100%;
            aspect-ratio: 16 / 10;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 24px;
            background: var(--bg-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-screenshot img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .modal-info {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 12px;
            background: var(--bg-secondary);
            border-radius: 10px;
        }

        .info-label {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .info-value {
            color: var(--text);
            font-size: 14px;
            font-weight: 500;
            text-align: right;
        }

        .modal-actions {
            display: flex;
            gap: 12px;
            padding: 20px 24px;
            border-top: 1px solid var(--border);
        }

        .action-btn {
            flex: 1;
            padding: 14px 24px;
            border-radius: 12px;
            border: none;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .action-btn.primary {
            background: var(--accent);
            color: white;
        }

        .action-btn.primary:hover {
            background: var(--accent-hover);
        }

        .action-btn.secondary {
            background: var(--bg-secondary);
            color: var(--text);
            border: 1px solid var(--border);
        }

        .action-btn.secondary:hover {
            background: var(--card);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .gallery {
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
                gap: 16px;
            }

            .header-content {
                flex-direction: column;
                align-items: stretch;
            }

            .search-box {
                width: 100%;
            }

            .stats-row {
                justify-content: space-around;
            }
        }

        /* Screenshot Loading States */
        .screenshot-loading {
            background: linear-gradient(90deg,
                    var(--bg-secondary) 0%,
                    var(--card) 50%,
                    var(--bg-secondary) 100%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }

            100% {
                background-position: -200% 0;
            }
        }

        /* Dashboard Navigation Styles */
        .dashboard-nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 280px;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            padding: 24px 0;
            overflow-y: auto;
            z-index: 1000;
        }

        .dashboard-content {
            margin-left: 280px;
            min-height: 100vh;
        }

        @media (max-width: 1024px) {
            .dashboard-nav {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .dashboard-nav.open {
                transform: translateX(0);
            }

            .dashboard-content {
                margin-left: 0;
            }
        }

        /* Dashboard Navigation */
        .dashboard-nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 280px;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            padding: 24px 0;
            overflow-y: auto;
            z-index: 1000;
        }

        .dashboard-nav a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            margin: 0 12px 4px;
            border-radius: 10px;
            text-decoration: none;
            color: rgba(255, 255, 255, 0.7);
            transition: all 0.2s;
            font-size: 14px;
            font-weight: 500;
        }

        .dashboard-nav a:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .dashboard-nav a.active {
            background: rgba(0, 122, 255, 0.2);
            color: white;
            border-left: 3px solid #007AFF;
            font-weight: 600;
        }

        .dashboard-nav a.active:hover {
            background: rgba(0, 122, 255, 0.3);
        }

        .dashboard-content {
            margin-left: 280px;
            min-height: 100vh;
        }

        @media (max-width: 1024px) {
            .dashboard-nav {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .dashboard-content {
                margin-left: 0;
            }
        }
    </style>
</head>

<body>
    <nav class="dashboard-nav" id="dashboardNav">
        <div style="padding: 0 20px 24px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); margin-bottom: 24px;">
            <a href="/"
                style="display: flex; align-items: center; gap: 12px; text-decoration: none; color: white; padding: 0; margin: 0;">
                <div
                    style="width: 40px; height: 40px; background: linear-gradient(135deg, #007AFF, #8B5CF6); border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                    <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" style="width: 24px; height: 24px;">
                        <path d="M12 2L2 7l10 5 10-5-10-5z" />
                        <path d="M2 17l10 5 10-5" />
                        <path d="M2 12l10 5 10-5" />
                    </svg>
                </div>
                <div>
                    <div style="font-size: 18px; font-weight: 700; color: white;">Dashboard</div>
                    <div style="font-size: 12px; color: rgba(255, 255, 255, 0.6);">Inner Animal Media</div>
                </div>
            </a>
        </div>
        <div>
            <a href="/dashboard" class="nav-item" data-route="/dashboard">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" style="width: 20px; height: 20px; flex-shrink: 0;">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                    <polyline points="9 22 9 12 15 12 15 22" />
                </svg>
                <span>Overview</span>
            </a>
            <a href="/dashboard/apps" class="nav-item active" data-route="/dashboard/apps">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" style="width: 20px; height: 20px; flex-shrink: 0;">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                    <line x1="3" y1="9" x2="21" y2="9" />
                    <line x1="9" y1="21" x2="9" y2="9" />
                </svg>
                <span>Apps</span>
            </a>
            <a href="/dashboard/dev/sql" class="nav-item" data-route="/dashboard/dev/sql">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" style="width: 20px; height: 20px; flex-shrink: 0;">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                    <polyline points="14 2 14 8 20 8" />
                    <line x1="16" y1="13" x2="8" y2="13" />
                    <line x1="16" y1="17" x2="8" y2="17" />
                    <polyline points="10 9 9 9 8 9" />
                </svg>
                <span>SQL Editor</span>
            </a>
            <a href="/dashboard/dev/tools" class="nav-item" data-route="/dashboard/dev/tools">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" style="width: 20px; height: 20px; flex-shrink: 0;">
                    <path d="M12 2L2 7l10 5 10-5-10-5z" />
                    <path d="M2 17l10 5 10-5" />
                    <path d="M2 12l10 5 10-5" />
                </svg>
                <span>Dev Tools</span>
            </a>
            <a href="/dashboard/storage/r2" class="nav-item" data-route="/dashboard/storage/r2">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" style="width: 20px; height: 20px; flex-shrink: 0;">
                    <path
                        d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" />
                    <polyline points="3.27 6.96 12 12.01 20.73 6.96" />
                    <line x1="12" y1="22.08" x2="12" y2="12" />
                </svg>
                <span>R2 Storage</span>
            </a>
            <a href="/dashboard/storage/kv" class="nav-item" data-route="/dashboard/storage/kv">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" style="width: 20px; height: 20px; flex-shrink: 0;">
                    <line x1="4" y1="7" x2="20" y2="7" />
                    <line x1="4" y1="12" x2="20" y2="12" />
                    <line x1="4" y1="17" x2="20" y2="17" />
                </svg>
                <span>KV</span>
            </a>
            <a href="/dashboard/storage/d1" class="nav-item" data-route="/dashboard/storage/d1">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" style="width: 20px; height: 20px; flex-shrink: 0;">
                    <path
                        d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" />
                </svg>
                <span>D1</span>
            </a>
            <a href="/dashboard/queues" class="nav-item" data-route="/dashboard/queues">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" style="width: 20px; height: 20px; flex-shrink: 0;">
                    <rect x="4" y="4" width="16" height="16" rx="2" ry="2" />
                    <line x1="8" y1="8" x2="16" y2="8" />
                    <line x1="8" y1="12" x2="16" y2="12" />
                    <line x1="8" y1="16" x2="12" y2="16" />
                </svg>
                <span>Queues</span>
            </a>
            <a href="/dashboard/workflows" class="nav-item" data-route="/dashboard/workflows">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" style="width: 20px; height: 20px; flex-shrink: 0;">
                    <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
                </svg>
                <span>Workflows</span>
            </a>
            <a href="/dashboard/vectorize" class="nav-item" data-route="/dashboard/vectorize">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" style="width: 20px; height: 20px; flex-shrink: 0;">
                    <path d="M12 2L2 7l10 5 10-5-10-5z" />
                    <path d="M2 17l10 5 10-5" />
                    <path d="M2 12l10 5 10-5" />
                </svg>
                <span>Vectorize</span>
            </a>
            <a href="/dashboard/settings" class="nav-item" data-route="/dashboard/settings">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" style="width: 20px; height: 20px; flex-shrink: 0;">
                    <circle cx="12" cy="12" r="3" />
                    <path
                        d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24" />
                </svg>
                <span>Settings</span>
            </a>
        </div>
        <div style="padding: 24px 20px 0; border-top: 1px solid rgba(255, 255, 255, 0.1); margin-top: 24px;">
            <a href="/" style="padding: 12px 16px; margin: 0 12px;">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" style="width: 20px; height: 20px;">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                    <polyline points="9 22 9 12 15 12 15 22" />
                </svg>
                <span>Back to Home</span>
            </a>
        </div>
    </nav>
    <div class="dashboard-content">
        <div class="container">
            <header>
                <div class="header-content">
                    <div class="header-left">
                        <h1>Workers</h1>
                        <div class="stats-row">
                            <div class="stat">
                                <div class="stat-value" id="totalWorkers">100</div>
                                <div class="stat-label">Total</div>
                            </div>
                            <div class="stat">
                                <div class="stat-value" id="activeWorkers">100</div>
                                <div class="stat-label">Active</div>
                            </div>
                        </div>
                    </div>
                    <div class="controls">
                        <div class="search-box">
                            <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                            <input type="text" id="searchInput" placeholder="Search workers...">
                        </div>
                        <div class="filter-buttons">
                            <button class="filter-btn active" data-filter="all">All</button>
                            <button class="filter-btn" data-filter="production">Production</button>
                            <button class="filter-btn" data-filter="dev">Dev</button>
                            <button class="filter-btn" data-filter="inneranimalmedia">IAM</button>
                            <button class="filter-btn" data-filter="meaux">Meaux</button>
                        </div>
                    </div>
                </div>
            </header>

            <div class="gallery" id="gallery">
                <!-- Workers will be inserted here -->
            </div>
        </div>

        <!-- Modal -->
        <div class="modal" id="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="modalTitle">Worker Details</h2>
                    <button class="close-btn" onclick="closeModal()">ï¿½</button>
                </div>
                <div class="modal-body">
                    <div class="modal-screenshot" id="modalScreenshot">
                        <!-- Screenshot will be inserted here -->
                    </div>
                    <div class="modal-info" id="modalInfo">
                        <!-- Info will be inserted here -->
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="action-btn primary" id="dashboardBtn" onclick="openDashboard()">Open
                        Dashboard</button>
                    <button class="action-btn secondary" onclick="openWorker()">Visit Worker</button>
                    <button class="action-btn secondary" onclick="closeModal()">Close</button>
                </div>
            </div>
        </div>

        <script>
            const workers = [
                { name: "southernpetsanimalrescue", date: "2025-12-17 04:09:45", method: "wrangler", status: "Modules", type: "production" },
                { name: "damnsam", date: "2025-12-16 23:13:23", method: "wrangler", status: "Modules", type: "production" },
                { name: "meauxaccessmvp", date: "2025-12-16 22:30:48", method: "wrangler", status: "Modules", type: "production" },
                { name: "meauxstack-os", date: "2025-12-16 20:17:56", method: "dash", status: "Modules", type: "production" },
                { name: "meauxmarkets-dev", date: "2025-12-16 20:08:48", method: "wrangler", status: "Modules", type: "dev" },
                { name: "meauxaccess-dashboard-dev", date: "2025-12-16 19:26:33", method: "wrangler", status: "Modules", type: "dev" },
                { name: "meauxbilityv2", date: "2025-12-16 16:29:47", method: "wrangler", status: "Modules", type: "production" },
                { name: "meauxbility-org-clean", date: "2025-12-16 04:54:28", method: "wrangler", status: "Modules", type: "production" },
                { name: "meauxmcpv4", date: "2025-12-16 03:15:22", method: "wrangler", status: "Modules", type: "production" },
                { name: "autonomous-coding-agent", date: "2025-12-13 21:44:45", method: "wrangler", status: "Modules", type: "production" },
                { name: "official-dashboard", date: "2025-12-13 20:46:37", method: "dash", status: "Modules", type: "production" },
                { name: "iautodidactapp", date: "2025-12-12 10:31:59", method: "dash", status: "Modules", type: "production" },
                { name: "inneranimalmedia-production", date: "2025-12-12 10:26:19", method: "dash", status: "Modules", type: "production" },
                { name: "inneranimalmedia-mcp", date: "2025-12-12 10:20:57", method: "dash", status: "Modules", type: "production" },
                { name: "iaccess-browser-rendering-dev", date: "2025-12-12 10:17:13", method: "dash", status: "Modules", type: "dev" },
                { name: "inneranimalmedia-mcp-production", date: "2025-12-12 10:16:22", method: "dash", status: "Modules", type: "production" },
                { name: "iaccess-dashboard-dev", date: "2025-12-12 10:14:11", method: "dash", status: "Modules", type: "dev" },
                { name: "iaccess-ai-gateway-dev", date: "2025-12-12 10:12:47", method: "dash", status: "Modules", type: "dev" },
                { name: "meauxbasic", date: "2025-12-12 05:50:27", method: "wrangler", status: "Modules", type: "production" },
                { name: "meauxbility-dev", date: "2025-12-12 03:32:33", method: "wrangler", status: "Modules", type: "dev" },
                { name: "damnsam-production", date: "2025-12-12 00:28:16", method: "dash", status: "Modules", type: "production" },
                { name: "iaccess-platform-dev", date: "2025-12-11 19:37:24", method: "wrangler", status: "Modules", type: "dev" },
                { name: "meaux-options-dev", date: "2025-12-11 18:53:28", method: "wrangler", status: "Modules", type: "dev" },
                { name: "meaux-options", date: "2025-12-11 18:18:47", method: "wrangler", status: "Modules", type: "production" },
                { name: "vision-board-dev", date: "2025-12-11 04:57:54", method: "wrangler", status: "Modules", type: "dev" },
                { name: "meaux-deploy-vault", date: "2025-12-10 23:27:40", method: "wrangler", status: "Modules", type: "production" },
                { name: "integration-hub", date: "2025-12-10 20:21:03", method: "wrangler", status: "Modules", type: "production" },
                { name: "instantaccess-worker", date: "2025-12-10 17:31:26", method: "wrangler", status: "Modules", type: "production" },
                { name: "meauxmcp", date: "2025-12-10 07:05:08", method: "wrangler", status: "Modules", type: "production" },
                { name: "meauxmedia-v2", date: "2025-12-10 04:24:37", method: "wrangler", status: "Modules", type: "production" },
                { name: "iacess-production", date: "2025-12-10 03:22:38", method: "dash", status: "Modules", type: "production" },
                { name: "meauxaccess20", date: "2025-12-09 20:45:54", method: "unknown", status: "Assets", type: "production" },
                { name: "inneranimalmedia-router-production", date: "2025-12-09 19:10:13", method: "wrangler", status: "Modules", type: "production" },
                { name: "auto", date: "2025-12-09 13:49:40", method: "unknown", status: "Assets", type: "production" },
                { name: "meauxbility-homepage-remastered-dev", date: "2025-12-09 07:40:20", method: "dash", status: "Modules", type: "dev" },
                { name: "meauxaccess-dashboard-production", date: "2025-12-09 07:38:39", method: "dash", status: "Modules", type: "production" },
                { name: "meauxstack-dashboard", date: "2025-12-09 06:48:00", method: "unknown", status: "Assets", type: "production" },
                { name: "meauxaccess-dashboard-staging", date: "2025-12-09 05:31:35", method: "wrangler", status: "Modules", type: "dev" },
                { name: "damnsam-dev", date: "2025-12-09 01:18:35", method: "wrangler", status: "Modules", type: "dev" },
                { name: "southernpetsanimalrescue-fix-nav", date: "2025-12-08 22:07:40", method: "wrangler", status: "Modules", type: "production" },
                { name: "southernpetsemailworker", date: "2025-12-08 21:27:09", method: "wrangler", status: "Modules", type: "production" },
                { name: "spar-dashboard", date: "2025-12-08 20:49:33", method: "wrangler", status: "Modules", type: "production" },
                { name: "acemedical", date: "2025-12-08 19:30:42", method: "wrangler", status: "Modules", type: "production" },
                { name: "iaccess-api", date: "2025-12-07 16:20:57", method: "wrangler", status: "Modules", type: "production" },
                { name: "iacess", date: "2025-12-07 15:20:25", method: "wrangler", status: "Modules", type: "production" },
                { name: "iaccess-router", date: "2025-12-07 15:19:54", method: "wrangler", status: "Modules", type: "production" },
                { name: "gemini-proxy", date: "2025-12-07 13:13:19", method: "wrangler", status: "Modules", type: "production" },
                { name: "email-worker-sam", date: "2025-12-07 12:48:27", method: "wrangler", status: "Modules", type: "production" },
                { name: "southernpetsanimalrescuecloudflare-vercel-migration-dev", date: "2025-12-07 04:23:13", method: "api", status: "Modules", type: "dev" },
                { name: "meauxbility-org-dec6", date: "2025-12-07 00:48:36", method: "dash", status: "Modules", type: "production" },
                { name: "connor-mcneely", date: "2025-12-06 19:41:41", method: "wrangler", status: "Modules", type: "production" },
                { name: "decentdashboardversion", date: "2025-12-06 19:35:54", method: "wrangler", status: "Modules", type: "production" },
                { name: "grantwriting", date: "2025-12-06 01:10:42", method: "wrangler", status: "Modules", type: "production" },
                { name: "meauxbility-app-library", date: "2025-12-06 00:46:24", method: "wrangler", status: "Modules", type: "production" },
                { name: "meauxbility-app-library-preview", date: "2025-12-05 21:46:36", method: "wrangler", status: "Modules", type: "dev" },
                { name: "fred-instantaccess", date: "2025-12-05 20:33:24", method: "wrangler", status: "Modules", type: "production" },
                { name: "saas-dashboard", date: "2025-12-05 04:53:28", method: "dash", status: "Modules", type: "production" },
                { name: "meauxphoto", date: "2025-12-05 04:23:24", method: "wrangler", status: "Modules", type: "production" },
                { name: "automeauxemail", date: "2025-12-05 02:54:31", method: "dash", status: "Modules", type: "production" },
                { name: "connor-iautodidact", date: "2025-12-05 02:32:06", method: "wrangler", status: "Modules", type: "production" },
                { name: "flat-cherry-b4b0", date: "2025-12-04 23:36:03", method: "dash", status: "Modules", type: "production" },
                { name: "inneranimalv2", date: "2025-12-03 14:04:10", method: "wrangler", status: "Modules", type: "production" },
                { name: "meauxstack-components", date: "2025-12-03 06:05:31", method: "wrangler", status: "Modules", type: "production" },
                { name: "evergrowlandscaping", date: "2025-12-03 04:25:52", method: "dash_template", status: "Modules", type: "production" },
                { name: "evergreen-landscaping", date: "2025-12-01 03:51:13", method: "wrangler", status: "Modules", type: "production" },
                { name: "blairmannentp", date: "2025-11-28 04:52:02", method: "wrangler", status: "Modules", type: "production" },
                { name: "innerautodidact-com", date: "2025-11-25 23:15:36", method: "wrangler", status: "Modules", type: "production" },
                { name: "sam-primeaux-portfolio", date: "2025-11-25 20:50:18", method: "wrangler", status: "Modules", type: "production" },
                { name: "connormcneelyengineer", date: "2025-11-25 04:30:16", method: "wrangler", status: "Modules", type: "production" },
                { name: "shy-moon-e347", date: "2025-11-25 02:45:48", method: "dash", status: "Modules", type: "production" },
                { name: "jolly-hill-6e86", date: "2025-11-25 02:45:42", method: "dash", status: "Modules", type: "production" },
                { name: "southernpetsanimalrescuecloudflare", date: "2025-11-25 00:12:04", method: "wrangler", status: "Modules", type: "production" },
                { name: "rapid-rice-a9a7", date: "2025-11-24 19:21:58", method: "unknown", status: "Assets", type: "production" },
                { name: "meauxaccess-api", date: "2025-11-24 19:17:29", method: "wrangler", status: "Modules", type: "production" },
                { name: "mon24", date: "2025-11-24 19:12:24", method: "unknown", status: "Assets", type: "production" },
                { name: "meauxaccess-dashboard", date: "2025-11-24 11:15:54", method: "wrangler", status: "Modules", type: "production" },
                { name: "r2-auto-router", date: "2025-11-24 07:27:08", method: "wrangler", status: "Modules", type: "production" },
                { name: "meauxbility-dashboard", date: "2025-11-24 07:15:51", method: "wrangler", status: "Modules", type: "production" },
                { name: "meaux-secrets-dashboard", date: "2025-11-24 06:08:45", method: "wrangler", status: "Modules", type: "production" },
                { name: "inneranimalmedia-iamsam", date: "2025-12-09 19:10:13", method: "wrangler", status: "Modules", type: "production" },
                { name: "inline-commands-explained", date: "2025-11-24 03:08:21", method: "wrangler", status: "Modules", type: "production" },
                { name: "meauxlife-app-library", date: "2025-11-23 22:55:20", method: "wrangler", status: "Modules", type: "production" },
                { name: "secrets-manager-api", date: "2025-11-23 22:18:14", method: "wrangler", status: "Modules", type: "production" },
                { name: "truetech-api", date: "2025-11-23 20:43:12", method: "wrangler", status: "Modules", type: "production" },
                { name: "meaux-asset-manager", date: "2025-11-23 20:38:20", method: "wrangler", status: "Modules", type: "production" },
                { name: "inneranimals-com", date: "2025-11-23 20:32:13", method: "wrangler", status: "Modules", type: "production" },
                { name: "meauxxx-com", date: "2025-11-23 18:09:25", method: "wrangler", status: "Modules", type: "production" },
                { name: "meauxbility-api", date: "2025-11-23 16:32:52", method: "dash", status: "Modules", type: "production" },
                { name: "meauxappmeauxtry", date: "2025-11-23 15:29:48", method: "dash_template", status: "Modules", type: "production" },
                { name: "inneranimalmedia", date: "2025-11-23 00:56:38", method: "unknown", status: "Assets", type: "production" },
                { name: "evergreen-landscaping-okc", date: "2025-11-21 20:22:09", method: "dash_template", status: "Modules", type: "production" },
                { name: "long-moon-7da2", date: "2025-11-17 00:42:51", method: "unknown", status: "Assets", type: "production" },
                { name: "automeauxcad", date: "2025-11-16 21:45:36", method: "dash_template", status: "Modules", type: "production" },
                { name: "official", date: "2025-11-16 09:08:23", method: "unknown", status: "Assets", type: "production" },
                { name: "meauxcadconnorworkzone", date: "2025-11-16 07:39:30", method: "dash", status: "Modules", type: "production" },
                { name: "meauxbilityfinalversion", date: "2025-11-16 06:35:44", method: "wrangler", status: "Modules", type: "production" },
                { name: "meauxbilityorganization", date: "2025-11-16 04:19:14", method: "unknown", status: "Assets", type: "production" },
                { name: "meauxapp", date: "2025-11-16 02:49:47", method: "dash", status: "Modules", type: "production" },
                { name: "meaux-ai-worker", date: "2025-11-16 02:47:39", method: "dash", status: "Modules", type: "production" },
                { name: "meaux-storage", date: "2025-11-14 19:25:51", method: "wrangler", status: "Modules", type: "production" }
            ];

            let filteredWorkers = [...workers];
            let currentFilter = 'all';
            let currentWorker = null;

            // Generate screenshot URL using multiple services as fallback
            function getScreenshotUrl(workerName) {
                const workerUrl = `https://${workerName}.meauxbility.workers.dev`;

                // Try multiple screenshot services (with fallbacks)
                // Option 1: ScreenshotAPI (requires API key, but has free tier)
                // Option 2: Use iframe preview (more reliable)
                // Option 3: Use placeholder with worker URL for manual loading

                // For now, return a data URL that will trigger iframe fallback
                return null; // Will use iframe preview instead
            }

            // Create iframe preview for thumbnail
            function createThumbnailPreview(workerName, container) {
                const workerUrl = `https://${workerName}.meauxbility.workers.dev`;
                const iframe = document.createElement('iframe');
                iframe.src = workerUrl;
                iframe.style.width = '100%';
                iframe.style.height = '100%';
                iframe.style.border = 'none';
                iframe.style.transform = 'scale(0.5)';
                iframe.style.transformOrigin = 'top left';
                iframe.style.width = '200%';
                iframe.style.height = '200%';
                iframe.style.pointerEvents = 'none';
                iframe.loading = 'lazy';

                // Fallback if iframe fails
                iframe.onerror = () => {
                    const icon = getWorkerIcon(workerName);
                    container.innerHTML = `
                    <div class="thumbnail-placeholder">
                        <div class="thumbnail-icon">${icon}</div>
                        <div class="thumbnail-label">${workerName}</div>
                    </div>
                `;
                };

                return iframe;
            }

            // Generate icon/emoji for worker name
            function getWorkerIcon(name) {
                const firstChar = name.charAt(0).toUpperCase();
                return firstChar;
            }

            // Get badge type
            function getBadgeType(worker) {
                if (worker.name.includes('dev') || worker.name.includes('-dev')) return 'dev';
                if (worker.name.includes('production') || worker.name.includes('-prod')) return 'production';
                if (worker.name.includes('staging')) return 'dev';
                return 'production';
            }

            // Render gallery
            function renderGallery() {
                const gallery = document.getElementById('gallery');

                if (filteredWorkers.length === 0) {
                    gallery.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">??</div>
                        <h3>No workers found</h3>
                        <p>Try adjusting your search or filter</p>
                    </div>
                `;
                    return;
                }

                gallery.innerHTML = filteredWorkers.map(worker => {
                    const icon = getWorkerIcon(worker.name);
                    const badgeType = getBadgeType(worker);
                    const shortDate = worker.date.split(' ')[0];
                    const workerUrl = `https://${worker.name}.meauxbility.workers.dev`;
                    const thumbnailId = `thumb-${worker.name.replace(/[^a-z0-9]/gi, '-')}`;

                    return `
                    <div class="worker-card" onclick="openModal('${worker.name}')">
                        <div class="worker-thumbnail" id="${thumbnailId}">
                            <div class="thumbnail-placeholder">
                                <div class="thumbnail-icon">${icon}</div>
                                <div class="thumbnail-label">${worker.name}</div>
                            </div>
                            <iframe 
                                src="${workerUrl}" 
                                style="width: 200%; height: 200%; border: none; transform: scale(0.5); transform-origin: top left; pointer-events: none; position: absolute; top: 0; left: 0; opacity: 0; transition: opacity 0.5s ease;"
                                loading="lazy"
                                onload="this.style.opacity='1'; this.parentElement.querySelector('.thumbnail-placeholder').style.display='none';"
                                onerror="this.style.display='none';"
                            ></iframe>
                        </div>
                        <div class="worker-info">
                            <div class="worker-header">
                                <div class="worker-icon-small">${icon}</div>
                                <div class="worker-title-section">
                                    <div class="worker-name">${worker.name}</div>
                                    <div class="worker-meta-row">
                                        <span class="worker-date">${shortDate}</span>
                                        <span class="worker-badge ${badgeType}">${badgeType}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="worker-footer">
                                <span class="worker-method">${worker.method === 'wrangler' ? 'Wrangler' : worker.method === 'dash' ? 'Dashboard' : worker.method === 'api' ? 'API' : 'Other'}</span>
                                <span class="worker-status">${worker.status}</span>
                            </div>
                        </div>
                    </div>
                `;
                }).join('');

                // Update stats
                document.getElementById('activeWorkers').textContent = filteredWorkers.length;
            }

            // Search functionality
            document.getElementById('searchInput').addEventListener('input', (e) => {
                const searchTerm = e.target.value.toLowerCase();
                filterWorkers(currentFilter, searchTerm);
            });

            // Filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    currentFilter = btn.dataset.filter;
                    filterWorkers(currentFilter, document.getElementById('searchInput').value.toLowerCase());
                });
            });

            function filterWorkers(filter, searchTerm = '') {
                filteredWorkers = workers.filter(worker => {
                    const matchesSearch = worker.name.toLowerCase().includes(searchTerm);
                    let matchesFilter = true;

                    if (filter === 'production') {
                        matchesFilter = !worker.name.includes('dev') && !worker.name.includes('-dev');
                    } else if (filter === 'dev') {
                        matchesFilter = worker.name.includes('dev') || worker.name.includes('-dev');
                    } else if (filter === 'inneranimalmedia') {
                        matchesFilter = worker.name.toLowerCase().includes('inneranimalmedia');
                    } else if (filter === 'meaux') {
                        matchesFilter = worker.name.toLowerCase().startsWith('meaux');
                    }

                    return matchesSearch && matchesFilter;
                });

                renderGallery();
            }

            // Modal functionality
            function openModal(workerName) {
                const worker = workers.find(w => w.name === workerName);
                if (!worker) return;

                currentWorker = worker;
                const modal = document.getElementById('modal');
                const modalTitle = document.getElementById('modalTitle');
                const modalInfo = document.getElementById('modalInfo');
                const modalScreenshot = document.getElementById('modalScreenshot');
                const dashboardBtn = document.getElementById('dashboardBtn');

                modalTitle.textContent = worker.name;

                const badgeType = getBadgeType(worker);
                const workerUrl = `https://${worker.name}.meauxbility.workers.dev`;
                const dashboardUrl = `https://dash.cloudflare.com/ede6590ac0d2fb7daf155b35653457b2/workers/services/view/${worker.name}`;
                modalScreenshot.innerHTML = `
                <iframe 
                    src="${workerUrl}" 
                    style="width: 100%; height: 100%; border: none;"
                    allow="fullscreen"
                ></iframe>
            `;

                modalInfo.innerHTML = `
                <div class="info-row">
                    <span class="info-label">Worker Name</span>
                    <span class="info-value">${worker.name}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Last Deployed</span>
                    <span class="info-value">${worker.date}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Deployment Method</span>
                    <span class="info-value">${worker.method === 'wrangler' ? 'Wrangler CLI' : worker.method === 'dash' ? 'Cloudflare Dashboard' : worker.method === 'api' ? 'API' : 'Unknown'}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Status</span>
                    <span class="info-value">${worker.status}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Type</span>
                    <span class="info-value"><span class="worker-badge ${badgeType}">${badgeType}</span></span>
                </div>
                <div class="info-row">
                    <span class="info-label">Worker URL</span>
                    <span class="info-value"><a href="${workerUrl}" target="_blank" style="color: var(--accent); text-decoration: none;">${workerUrl}</a></span>
                </div>
                <div class="info-row">
                    <span class="info-label">Project Management</span>
                    <span class="info-value"><a href="https://meauxbility-dashboard.meauxbility.workers.dev?project=${worker.name}" target="_blank" style="color: var(--accent); text-decoration: none;">Manage Project & Meta Tags ?</a></span>
                </div>
            `;

                dashboardBtn.onclick = () => {
                    window.open(dashboardUrl, '_blank');
                };

                window.openWorker = () => {
                    window.open(workerUrl, '_blank');
                };

                modal.classList.add('active');
            }

            function closeModal() {
                document.getElementById('modal').classList.remove('active');
            }

            // Close modal on outside click
            document.getElementById('modal').addEventListener('click', (e) => {
                if (e.target.id === 'modal') {
                    closeModal();
                }
            });

            // Close modal on Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeModal();
                }
            });

            // Update active nav state
            const currentPath = window.location.pathname;
            document.querySelectorAll('.nav-item[data-route]').forEach(link => {
                const route = link.getAttribute('data-route');
                if (route === currentPath || (route !== '/dashboard' && currentPath.startsWith(route))) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });

            // Initialize
            document.addEventListener('DOMContentLoaded', () => {
                console.log('Initializing gallery with', workers.length, 'workers');
                renderGallery();
            });

            // Also try immediate render in case DOM is already loaded
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', renderGallery);
            } else {
                renderGallery();
            }
        </script>
    </div>
    </div>
    </div>
</body>

</html>